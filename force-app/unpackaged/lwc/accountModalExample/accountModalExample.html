<template>
	<c-modal-container
		position="action"
		title="New Contact"
		subtitle="Create a new contact"
		confirm-label="Create Contact"
		steps={steps}
		is-loading={isLoading}
		onclosemodal={closeQuickAction}
		onconfirm={submitForm}
		enable-spinner
		max-width
	>
		<div if:false={isLoading} class="slds-form">
			<div class="slds-form__row">
				<div class="slds-form__item">
					<c-picklist
						label="Picklist"
						form={form}
						field-name="picklist"
						options={types}
						onvaluechange={handleFieldChange}
						multiple
					></c-picklist>
					Selected value : {form.picklist}
				</div>
			</div>
			<div class="slds-form__row">
				<div class="slds-form__item">
					<c-input
						type="text"
						label="First Name"
						form={form}
						field-name="firstName"
						onvaluechange={handleFieldChange}
						max="40"
						required
					></c-input>
				</div>
				<div class="slds-form__item">
					<c-input
						type="text"
						label="Last Name"
						form={form}
						field-name="lastName"
						onvaluechange={handleFieldChange}
						max="80"
						required
					></c-input>
				</div>
			</div>
			<div class="slds-form__row">
				<div class="slds-form__item">
					<c-input
						type="email"
						label="Email"
						form={form}
						field-name="email"
						onvaluechange={handleFieldChange}
						max="80"
						required
					></c-input>
				</div>
				<div class="slds-form__item">
					<c-input
						type="tel"
						label="Phone"
						form={form}
						field-name="phone"
						onvaluechange={handleFieldChange}
						max="40"
					></c-input>
				</div>
			</div>
			<div class="slds-form__row">
				<div class="slds-form__item">
					<c-chart config={chartConfig}></c-chart>
				</div>
			</div>

			<!-- soqlService Example -->
			<div class="slds-form__row slds-var-m-top_medium">
				<div class="slds-form__item">
					<div class="slds-box slds-theme_shade">
						<h3 class="slds-text-heading_small slds-var-m-bottom_small">soqlService Example</h3>
						<p><strong>Account Count:</strong> {accountCount}</p>
						<p><strong>SObject Count:</strong> {sObjectCount}</p>
						<p class="slds-var-m-top_small"><strong>First 5 Accounts:</strong></p>
						<ul class="slds-list_dotted">
							<template for:each={accounts} for:item="account">
								<li key={account.Id}>{account.Name}</li>
							</template>
						</ul>
						<p class="slds-var-m-top_small"><strong>First 5 Account Fields:</strong></p>
						<ul class="slds-list_dotted">
							<template for:each={accountFields} for:item="field">
								<li key={field.apiName}>{field.label} ({field.apiName}) - {field.type}</li>
							</template>
						</ul>
					</div>
				</div>
			</div>
		</div>

		<lightning-button
			slot="additional-buttons"
			variant="brand"
			label="Test"
			class="slds-var-m-left_small">
		</lightning-button>
	</c-modal-container>
</template>